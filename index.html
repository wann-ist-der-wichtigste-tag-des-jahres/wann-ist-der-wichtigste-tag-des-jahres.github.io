<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <title>Wichtigster Tag des Jahres</title>
</head>
<body>

<h1 align="center"  style="font-size:45px;color:rgb(245, 0, 242)">Geburtstags-Countdown</h1>

<div id="countdown" align="center" style="font-size:30px" class="middle">
    <table class="countdownContainer paddingBetweenCols">
        <tr class="info">
            <td colspan="4" class="info"></td>
        </tr>
        <tr class="info">
            <td id="Tage">120</td>
            <td id="Stunden">4</td>
            <td id="Minuten">15</td>
            <td id="Sekunden">32</td>
        </tr>

        <tr>
            <td>Tage</td>
            <td>Stunden</td>
            <td>Minuten</td>
            <td>Sekunden</td>
        </tr>
    </table>
</div>

<img class='hotairballoon1' src='balloon.png' alt="B1" width="100" height="200"/>
<img class='hotairballoon2' src='balloon.png' alt="B2" width="100" height="200"/>
<img class='hotairballoon3' src='balloon.png' alt="B3" width="100" height="200"/>
<img class='hotairballoon4' src='balloon.png' alt="B4" width="100" height="200"/>

<link rel="stylesheet" href="style.css">

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const birthdayTime = document.querySelector('#birthdayTime');
        const countdownContainer = document.querySelector('#countdown');
        const daysCountdown = document.querySelector('#Tage');
        const hoursCountdown = document.querySelector('#Stunden');
        const minutesCountdown = document.querySelector('#Minuten');
        const secondsCountdown = document.querySelector('#Sekunden');

        const currentTime = new Date()
        let yearOfTheEvent = currentTime.getFullYear();
        let eventDate = new Date( yearOfTheEvent, 4, 15 );
        const isBirthday = currentTime.getMonth() === 4 && currentTime.getDate() === 15;

        function countdown() {
            const now = new Date()

            if (now > eventDate) {
                eventDate = new Date( yearOfTheEvent + 1, 4, 15 )
            } else if ( now.getFullYear() === eventDate.getFullYear() + 1 ) {
                eventDate = new Date( now.getFullYear(), 4, 15 )
            }

            const currentTime = now.getTime();
            const eventTime = eventDate.getTime();
            const remainingTime = eventTime - currentTime;

            let seconds = Math.floor( remainingTime / 1000 );
            let minutes = Math.floor( seconds / 60 );
            let hours =  Math.floor( minutes / 60 );
            let days = Math.floor( hours / 24 );

            hours %= 24;
            minutes %= 60;
            seconds %= 60;

            if ( isBirthday ) {
                console.log('GEBURTSTAGSZEIT!!');

                countdownContainer.style.display = "none";
                birthdayTime.style.display = "block";

            } else {

                daysCountdown.textContent = days;
                hoursCountdown.textContent = hours;
                minutesCountdown.textContent = minutes;
                secondsCountdown.textContent = seconds;

                setTimeout(countdown, 1000)

            }

        }
        countdown()
    })
</script>

</body>

</html>
